@import "tailwindcss";

/* Lock the site to a clean white theme */
:root {
  --background: #ffffff;
  --foreground: #0a0a0a;
}

html,
body {
  height: 100%;
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* Default text font (local) */
.text-font { font-family: var(--font-text), system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

/* Utility for safe-bottom spacing on iOS */
.safe-bottom {
  padding-bottom: max(env(safe-area-inset-bottom), 16px);
}

/* Helper for safe top spacing on iOS notch devices */
.safe-top {
  padding-top: max(env(safe-area-inset-top), 12px);
}

/* Pixel art vibe */
.pixel-font { font-family: var(--font-press), ui-monospace, Menlo, Monaco, monospace; }
.daydream-font { font-family: var(--font-daydream), system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
.pixel-outline { image-rendering: pixelated; }
.pixel-border { border: 4px solid #111; box-shadow: 0 0 0 4px #fff, 0 0 0 8px #111; }
.pixel-btn { border: 4px solid #111; background:#fff; box-shadow: 0 0 0 4px #fff, 0 6px 0 4px #111; }
.pixel-btn:active { transform: translateY(4px); box-shadow: 0 0 0 4px #fff, 0 2px 0 4px #111; }
.pixel-img { image-rendering: pixelated; image-rendering: crisp-edges; }

/* Modal styles */
.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.15); backdrop-filter: blur(1px); display:flex; align-items:center; justify-content:center; z-index: 50; }
.modal-card { background:#fff; border:4px solid #111; box-shadow: 0 0 0 4px #fff, 0 0 0 8px #111; width: min(92vw, 520px); margin: 24px; }
.modal-body { padding: 20px; }
.progress {
  height: 14px; border: 3px solid #111; background: #eee; box-shadow: inset 0 0 0 3px #fff;
}
.progress > .bar {
  height: 100%; background: repeating-linear-gradient(90deg, #ff0033 0 12px, #ffe5ea 12px 24px);
  width: 0%;
  animation: loadbar 3s linear forwards;
}
@keyframes loadbar {
  from { width: 0%; }
  to { width: 100%; }
}

/* Dissolve overlay */
.dissolve-overlay { position: fixed; inset: 0; background: transparent; z-index: 45; display: grid; pointer-events: auto; }
.dissolve-cell { background: #000; width: 100%; height: 100%; }

@keyframes pixelAppear {
  0% { opacity: 0; transform: scale(0); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes pixelDissolve {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0); }
}

@keyframes dissolveCell {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.85); }
}

@keyframes fadeBlack {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes fadeOut {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

/* Optimized styles for session images */
.session-image-container {
  position: relative;
  overflow: hidden;
}

.session-image-escalier {
  /* Specific optimizations for escalier (stair) images */
  max-height: calc(100% - 16px);
  max-width: calc(100% - 16px);
  object-fit: contain;
  object-position: center;
  margin: auto;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,0.15));
  transition: all 0.3s ease;
}

.session-image-escalier:hover {
  filter: drop-shadow(0 4px 12px rgba(0,0,0,0.2));
  transform: scale(1.02);
}

.session-image-standard {
  /* Standard styling for other session types */
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
}

.escalier-container {
  background: transparent;
  border: none;
  border-radius: 12px;
}

/* Kudo float animation */
.kudo-float {
  animation: kudoEnter 220ms ease-out, kudoFloat 1800ms ease-out 220ms forwards;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.25));
}
@keyframes kudoEnter {
  0% { opacity: 0; transform: scale(0.7); }
  100% { opacity: 1; transform: scale(1); }
}
@keyframes kudoFloat {
  0% { opacity: 1; transform: translateY(0) rotate(var(--rot, 0deg)); }
  80% { opacity: 1; transform: translateY(-18px) rotate(var(--rot, 0deg)); }
  100% { opacity: 0; transform: translateY(-32px) rotate(var(--rot, 0deg)); }
}

/* Hub layout */
.hub { display:flex; justify-content:center; padding: 2rem 1rem; }
.hub-grid { width: min(1100px, 100%); display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.25rem; }
.app-tile { appearance:none; border:2px solid #111; border-bottom-width:6px; background:#fff; padding:1rem .75rem; border-radius:12px; cursor:pointer; transition: transform .08s ease, box-shadow .08s ease; display:flex; flex-direction:column; align-items:center; }
.app-tile:active { transform: translateY(2px); border-bottom-width:2px; }
.app-icon { width: 90px; height: 90px; display:grid; place-items:center; }
.app-title { margin-top: .75rem; font-weight:800; letter-spacing:.3px; text-align:center; }

/* Roulette animation */
.roulette { width:88px; height:88px; border-radius:50%; }
@keyframes spinRoulette { 0% { transform: rotate(0turn); } 100% { transform: rotate(5.5turn); } }
.spinning { animation: spinRoulette 1.2s cubic-bezier(.2,.7,.2,1) both; }
